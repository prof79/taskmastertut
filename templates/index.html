{% extends 'base.html' %}

{% block head %}

    <title>Task Master</title>

{% endblock %}

{% block body %}

    <div id="page_content" class="center">

        <h1>Task Master</h1>

        <p>&nbsp;</p>

        <div id="message_output"><h4>{{ message }}</h4></div>

        {% if message %}

            <p>&nbsp;</p>

        {% endif %}

        <div id="task_list">

            {% if tasks|length < 1 %}
            
                <h4>There are not any tasks yet. Add one below.</h4>

            {% else %}

                <table class="center table">
                    <tr>
                        <th>Task</th>
                        <th>Added</th>
                        <th>Actions</th>
                    </tr>

                    {% for task in tasks %}

                        <tr>
                            <td class="taskcell">{{ task.content }}</td>
                            <td class="addedcell">{{ task.created.strftime('%Y-%m-%d %H:%M:%S UTC') }}</td>
                            <td>
                                <a href="/update/{{task.id}}">Update</a><br><br>
                                <a href="/remove/{{task.id}}">Remove</a>
                            </td>
                        </tr>
                        
                    {% endfor %}

                </table>

            {% endif %}

        </div>

        <p>&nbsp;</p>

        <div id="task_input">
            <form action="/add" method="post">
                <input type="text" id="content" name="content" value=""><br><br>
                <input type="submit" id="submit" name="submit" value="Add Task">
            </form>
        </div>

        <p>&nbsp;</p>

    </div>

{% endblock %}
